<!DOCTYPE html>
<html lang="en-EN">

<head>
	<title>DECHEMA map</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">
	<meta name="Description" content="An interactive map to show CO/CO2 emissions from different processes and a non-exhaustive number of chemical parks and polyol plants.
	Allows the user to interactively filter the data to conclude on possible replication sites for the Carbon4PUR technology to transform CO and CO2 streams to polyurethanes.">
	<!-- Load Leaflet: instructions at http://leafletjs.com/download.html -->
	<link href="vendor/leaflet.css" rel="stylesheet" />
	<link rel="stylesheet" href="vendor/leaflet-sidebar2.min.css" />
	<!-- A CSS framework for easy styling -->
	<link href="vendor/bulma.min.css" rel="stylesheet" />
	<link href="vendor/bulma-slider.min.css" rel="stylesheet" />

	<link href="vendor/introjs.min.css" rel="stylesheet" />
	<!-- Boring layer selection <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet-groupedlayercontrol/0.6.1/leaflet.groupedlayercontrol.min.css" integrity="sha256-2nki7eLxn91r/RI3QQq+ArnIltknk6gz4wSoQHFrJnA=" crossorigin="anonymous" /> -->
	<link href="index.min.css" rel="stylesheet">
	<link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
	<link rel="icon" href="favicon.ico" type="image/x-icon">

</head>

<body>
	<svg aria-hidden="true" style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1"
		xmlns="http://www.w3.org/2000/svg">
		<defs>
			<!-- Symbol definition -->
			<symbol id="icon-folder-plus" viewbox="0 0 32 32">
				<title>folder-plus</title>
				<path d="M18 8l-4-4h-14v26h32v-22h-14zM22 22h-4v4h-4v-4h-4v-4h4v-4h4v4h4v4z"></path>
			</symbol>
			<symbol id="icon-folder-minus" viewbox="0 0 32 32">
				<title>folder-minus</title>
				<path d="M18 8l-4-4h-14v26h32v-22h-14zM22 22h-12v-4h12v4z"></path>
			</symbol>
			<symbol id="icon-play3" viewbox="0 0 32 32">
				<title>play3</title>
				<path fill="#fff" d="M6 4l20 12-20 12z" transform="rotate(180 16 16)"></path>
			</symbol>
			<symbol id="icon-settings" viewBox="0 0 932.179 932.179">
				<path fill="currentColor"
					d="M61.2,341.538c4.9,16.8,11.7,33,20.3,48.2l-24.5,30.9c-8,10.1-7.1,24.5,1.9,33.6l42.2,42.2c9.1,9.1,23.5,9.899,33.6,1.899
	    		l30.7-24.3c15.8,9.101,32.6,16.2,50.1,21.2l4.6,39.5c1.5,12.8,12.3,22.4,25.1,22.4h59.7c12.8,0,23.6-9.601,25.1-22.4l4.4-38.1
	    		c18.8-4.9,36.8-12.2,53.7-21.7l29.7,23.5c10.1,8,24.5,7.1,33.6-1.9l42.2-42.2c9.1-9.1,9.9-23.5,1.9-33.6l-23.1-29.3
	    		c9.6-16.601,17.1-34.3,22.1-52.8l35.6-4.1c12.801-1.5,22.4-12.3,22.4-25.1v-59.7c0-12.8-9.6-23.6-22.4-25.1l-35.1-4.1
	    		c-4.801-18.3-12-35.8-21.199-52.2l21.6-27.3c8-10.1,7.1-24.5-1.9-33.6l-42.1-42.1c-9.1-9.1-23.5-9.9-33.6-1.9l-26.5,21
	    		c-17.2-10.1-35.601-17.8-54.9-23l-4-34.3c-1.5-12.8-12.3-22.4-25.1-22.4h-59.7c-12.8,0-23.6,9.6-25.1,22.4l-4,34.3
	    		c-19.8,5.3-38.7,13.3-56.3,23.8l-27.5-21.8c-10.1-8-24.5-7.1-33.6,1.9l-42.2,42.2c-9.1,9.1-9.9,23.5-1.9,33.6l23,29.1
	    		c-9.2,16.6-16.2,34.3-20.8,52.7l-36.8,4.2c-12.8,1.5-22.4,12.3-22.4,25.1v59.7c0,12.8,9.6,23.6,22.4,25.1L61.2,341.538z
	    		 M277.5,180.038c54.4,0,98.7,44.3,98.7,98.7s-44.3,98.7-98.7,98.7c-54.399,0-98.7-44.3-98.7-98.7S223.1,180.038,277.5,180.038z" />
				<path fill="#555" d="M867.699,356.238l-31.5-26.6c-9.699-8.2-24-7.8-33.199,0.9l-17.4,16.3c-14.699-7.1-30.299-12.1-46.4-15l-4.898-24
	    		c-2.5-12.4-14-21-26.602-20l-41.1,3.5c-12.6,1.1-22.5,11.4-22.9,24.1l-0.799,24.4c-15.801,5.7-30.701,13.5-44.301,23.3
	    		l-20.799-13.8c-10.602-7-24.701-5-32.9,4.7l-26.6,31.7c-8.201,9.7-7.801,24,0.898,33.2l18.201,19.399
	    		c-6.301,14.2-10.801,29.101-13.4,44.4l-26,5.3c-12.4,2.5-21,14-20,26.601l3.5,41.1c1.1,12.6,11.4,22.5,24.1,22.9l28.1,0.899
	    		c5.102,13.4,11.801,26.101,19.9,38l-15.699,23.7c-7,10.6-5,24.7,4.699,32.9l31.5,26.6c9.701,8.2,24,7.8,33.201-0.9l20.6-19.3
	    		c13.5,6.3,27.699,11,42.299,13.8l5.701,28.2c2.5,12.4,14,21,26.6,20l41.1-3.5c12.6-1.1,22.5-11.399,22.9-24.1l0.9-27.601
	    		c15-5.3,29.199-12.5,42.299-21.399l22.701,15c10.6,7,24.699,5,32.9-4.7l26.6-31.5c8.199-9.7,7.799-24-0.9-33.2l-18.301-19.399
	    		c6.701-14.2,11.602-29.2,14.4-44.601l25-5.1c12.4-2.5,21-14,20-26.601l-3.5-41.1c-1.1-12.6-11.4-22.5-24.1-22.9l-25.1-0.8
	    		c-5.201-14.6-12.201-28.399-20.9-41.2l13.699-20.6C879.4,378.638,877.4,364.438,867.699,356.238z M712.801,593.837
	    		c-44.4,3.801-83.602-29.3-87.301-73.699c-3.801-44.4,29.301-83.601,73.699-87.301c44.4-3.8,83.602,29.301,87.301,73.7
	    		C790.301,550.938,757.199,590.138,712.801,593.837z" />
				<path d="M205,704.438c-12.6,1.3-22.3,11.899-22.4,24.6l-0.3,25.3c-0.2,12.7,9.2,23.5,21.8,25.101l18.6,2.399
	    		c3.1,11.301,7.5,22.101,13.2,32.301l-12,14.8c-8,9.899-7.4,24.1,1.5,33.2l17.7,18.1c8.9,9.1,23.1,10.1,33.2,2.3l14.899-11.5
	    		c10.5,6.2,21.601,11.101,33.2,14.5l2,19.2c1.3,12.6,11.9,22.3,24.6,22.4l25.301,0.3c12.699,0.2,23.5-9.2,25.1-21.8l2.3-18.2
	    		c12.601-3.101,24.601-7.8,36-14l14,11.3c9.9,8,24.101,7.4,33.201-1.5l18.1-17.7c9.1-8.899,10.1-23.1,2.301-33.2L496.6,818.438
	    		c6.6-11,11.701-22.7,15.201-35l16.6-1.7c12.6-1.3,22.299-11.9,22.4-24.6l0.299-25.301c0.201-12.699-9.199-23.5-21.799-25.1
	    		l-16.201-2.1c-3.1-12.2-7.699-24-13.699-35l10.1-12.4c8-9.9,7.4-24.1-1.5-33.2l-17.699-18.1c-8.9-9.101-23.102-10.101-33.201-2.3
	    		l-12.101,9.3c-11.399-6.9-23.6-12.2-36.399-15.8l-1.601-15.7c-1.3-12.601-11.899-22.3-24.6-22.4l-25.3-0.3
	    		c-12.7-0.2-23.5,9.2-25.101,21.8l-2,15.601c-13.199,3.399-25.899,8.6-37.699,15.399l-12.5-10.2c-9.9-8-24.101-7.399-33.201,1.5
	    		l-18.2,17.801c-9.1,8.899-10.1,23.1-2.3,33.199l10.7,13.801c-6.2,11-11.1,22.699-14.3,35L205,704.438z M368.3,675.837
	    		c36.3,0.4,65.399,30.301,65,66.601c-0.4,36.3-30.301,65.399-66.601,65c-36.3-0.4-65.399-30.3-65-66.601
	    		C302.1,704.538,332,675.438,368.3,675.837z" />
			</symbol>
			<symbol id="icon-info" viewbox="0 0 23.625 23.625">
				<path fill="currentColor" d="M11.812,0C5.289,0,0,5.289,0,11.812s5.289,11.813,11.812,11.813s11.813-5.29,11.813-11.813
	  		S18.335,0,11.812,0z M14.271,18.307c-0.608,0.24-1.092,0.422-1.455,0.548c-0.362,0.126-0.783,0.189-1.262,0.189
	  		c-0.736,0-1.309-0.18-1.717-0.539s-0.611-0.814-0.611-1.367c0-0.215,0.015-0.435,0.045-0.659c0.031-0.224,0.08-0.476,0.147-0.759
	  		l0.761-2.688c0.067-0.258,0.125-0.503,0.171-0.731c0.046-0.23,0.068-0.441,0.068-0.633c0-0.342-0.071-0.582-0.212-0.717
	  		c-0.143-0.135-0.412-0.201-0.813-0.201c-0.196,0-0.398,0.029-0.605,0.09c-0.205,0.063-0.383,0.12-0.529,0.176l0.201-0.828
	  		c0.498-0.203,0.975-0.377,1.43-0.521c0.455-0.146,0.885-0.218,1.29-0.218c0.731,0,1.295,0.178,1.692,0.53
	  		c0.395,0.353,0.594,0.812,0.594,1.376c0,0.117-0.014,0.323-0.041,0.617c-0.027,0.295-0.078,0.564-0.152,0.811l-0.757,2.68
	  		c-0.062,0.215-0.117,0.461-0.167,0.736c-0.049,0.275-0.073,0.485-0.073,0.626c0,0.356,0.079,0.599,0.239,0.728
	  		c0.158,0.129,0.435,0.194,0.827,0.194c0.185,0,0.392-0.033,0.626-0.097c0.232-0.064,0.4-0.121,0.506-0.17L14.271,18.307z
	  		 M14.137,7.429c-0.353,0.328-0.778,0.492-1.275,0.492c-0.496,0-0.924-0.164-1.28-0.492c-0.354-0.328-0.533-0.727-0.533-1.193
	  		c0-0.465,0.18-0.865,0.533-1.196c0.356-0.332,0.784-0.497,1.28-0.497c0.497,0,0.923,0.165,1.275,0.497
	  		c0.353,0.331,0.53,0.731,0.53,1.196C14.667,6.703,14.49,7.101,14.137,7.429z" />
			</symbol>
			<symbol id="icon-emitter" viewBox="0 0 16 16">
				<path fill="#999"
					d="M4.4 1.3c-0.6 0.3-0.8 1.1-0.4 1.5 0.5-0.9 1.3-0.6 2.5 0.4 0.8 0.7 1.9 0.1 1.9 0.1s0.2 1.2 1.7 1.4c1.7 0.2 2.3-0.8 2.3-0.8s0.4 1 1.9 0.4c1.1-0.4 0.7-1.1 0.7-1.1s1 0 1-0.7c0-0.9-1.1-0.8-1.1-0.8s0.2-1-0.9-1.1c-1-0.1-1.3 0.5-1.3 0.5s-0.3-1.1-1.8-1.1c-1.4 0-1.9 1.3-1.9 1.3s-0.4-0.6-1.6-0.6c-0.9 0-1.3 0.7-1.3 0.7s-1.1-0.5-1.7-0.1z">
				</path>
				<path fill="currentColor"
					d="M12 12.1v-2.1l-4 2.1v-2.1h-2.4l-0.6-7h-2l-0.6 7h-2.4v6h16v-6l-4 2.1zM6 14h-4v-2h4v2z"></path>
			</symbol>
			<symbol id="icon-consumer" viewBox="0 0 16 16">
				<path fill="#999"
					d="m 6.5,3.2 c 0.8,0.7 1.9,0.1 1.9,0.1 0,0 0.2,1.2 1.7,1.4 1.7,0.2 2.3,-0.8 2.3,-0.8 0,0 0.4,1 1.9,0.4 1.1,-0.4 0.7,-1.1 0.7,-1.1 0,0 1,0 1,-0.7 0,-0.9 -1.1,-0.8 -1.1,-0.8 0,0 0.2,-1 -0.9,-1.1 C 13,0.5 12.7,1.1 12.7,1.1 12.7,1.1 12.4,0 10.9,0 9.5,0 9,1.3 9,1.3 9,1.3 8.6,0.7 7.4,0.7 6.5,0.7 6.1,1.4 6.1,1.4 5.1485651,2.1684512 4.935993,2.882987 6.5,3.2 Z">
				</path>
				<path fill="currentColor"
					d="M 12,12.1 V 10 L 8,12.1 V 10 c -8,0 0,0 -8,0 v 6 H 16 V 10 Z M 6,14 H 2 v -2 h 4 z"></path>
				<path fill="currentColor" d="M 10.5,5 V 7 H 9 l 2,2 2,-2 H 11.5 V 5 Z"></path>
			</symbol>
			<symbol id="icon-paragraph" xmlns:dc="http://purl.org/dc/elements/1.1/"
				xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
				xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg"
				preserveAspectRatio="xMidYMid meet" viewBox="0 0 57 89" version="1.0">
				<metadata id="metadata4637">
					Created by potrace 1.14, written by Peter Selinger 2001-2017
				</metadata>
				<path fill="currentColor"
					d="m 18.4003,8.5 c -6.200004,4.2 -7.028998,12.826832 -1.70069,18.399903 l 2.2002,2.301269 -3.7002,3.599121 c -3.789836,3.686309 -4.964058,6.336612 -4.699065,10.850458 0.264994,4.513847 4.051439,9.317775 11.777215,14.917609 11.822406,8.569173 12.521169,9.301772 12.60059,12.200683 0.06667,2.433345 -1.869571,5.028278 -3.7002,6.09961 -4.036074,2.362018 -9.660714,0.1086 -8.60009,-4.899902 0.739456,-3.491875 -1.0001,-6 -4.1001,-6 -4.2,0 -6.010204,4.604751 -3.60059,9.099609 2.790395,5.205162 15.9001,6.800098 22.1001,2.600098 6.2,-4.2 7.030785,-12.828549 1.70068,-18.399902 l -2.20022,-2.299805 3.7002,-3.600586 c 3.430172,-3.337827 4.6235,-5.909766 4.82994,-10.28093 C 45.21451,38.71607 41.396522,33.61222 33.09996,27.600098 21.276585,19.032262 20.555124,18.300343 20.49937,15.400879 c -0.04714,-2.451483 1.537448,-4.869284 3.7002,-6.099609 3.90557,-2.2217612 9.660724,-0.1085985 8.6001,4.899902 -0.739456,3.491877 1.0001,6 4.1001,6 4.2,0 6.006644,-4.605095 3.59912,-9.101073 C 38.756406,7.8460614 32.97594,6.006836 28.497835,6.086521 24.01973,6.166206 20.7253,6.925 18.4003,8.5 Z M 21.1,31 l 6.39991,4.800293 c 3.487943,2.616154 7.252322,5.654577 8.20019,6.799805 2.550418,3.081454 2.76712,7.448218 0.3779,10.368165 l -1.80029,2.200195 -6.3999,-4.800293 C 24.38987,47.752009 20.62848,44.711097 19.67761,43.56836 16.73798,40.035566 17.109552,35.876782 19.29968,33.200196 Z" />
			</symbol>
		</defs>
	</svg>

	<!-- Map takes whole screen -->
	<div id="map"></div>

	<!-- Size legend -->
	<div id="scale">
		<h3>Emissions in <span title="Megatonnes or 1&nbsp;000&nbsp;000 tonnes" style="border-bottom: 1px dashed blue">MT</span>/year</h3>
	</div>

	<div id="sidebar" class="sidebar">
		<!-- Nav tabs -->
		<div class="sidebar-tabs">
			<ul role="tablist" id="maintablist">
				<li class="active" id="info-tab-li">
					<a href="#info-content" role="tab" aria-label="Information about the tool">
						<svg class="svgicon" viewbox="0 0 32 32">
							<use xlink:href="#icon-info"></use>
						</svg>
					</a>
				</li>
			</ul>
			<ul role="tablist">
				<li id="settings-tab-li">
					<a href="#settings-content" role="tab" aria-label="Advanced settings">
						<svg class="svgicon" viewbox="0 0 32 32">
							<use xlink:href="#icon-settings"></use>
						</svg>
					</a>
				</li>
			</ul>
		</div>

		<!-- Tab panes -->
		<div class="sidebar-content" id="sidebarcontent">
			<div class="sidebar-pane active" id="info-content">
				<h1 class="sidebar-header">
					Carbon4PUR replication map
					<span class="sidebar-close" id="sidebar-close-info-span"><svg class="svgicon" viewbox="0 0 32 32">
							<use xlink:href="#icon-play3"></use>
						</svg></span>
				</h1>
				<h2>Information on this map</h2>
				<div class="description">This map shows all emissions of CO and CO<sub>2</sub> in Europe <b>in selected industrial categories that contain processes with Carbon4PUR compatible emissions</b> according to
					the <a href="https://prtr.eea.europa.eu" target="_blank" rel="noopener">E-PRTR</a>. For more detail on the E-PRTR
					data and how it was obtained, read the <a href="#data-section" onclick="map.sidebar.open('legal-content')">data section</a>.<br>
					The tabs on the left allow to filter those emissions to obtain possible replication sites for a
					Carbon4PUR plant. The first tab contains filters based on the type of emissions, the second tab
					filters based on possible plants.
					<h2>Legend</h2>
					<h3>CO/CO<sub>2</sub> emitters</h3>
					CO emissions are displayed with an <span style="border: 1px solid rgb(234,110,57); border-radius: 4px;">orange</span> border and all
					CO<sub>2</sub> emissions with a	<span style="border: 1px solid rgb(241, 177, 48); border-radius: 4px;">yellow</span> border. The fill
					color depends on the type of plant (see colors in the second tab on the left or click on any circle
					on the map). The size indicates the amount of CO or CO<sub>2</sub> available.
					<h3>CO/CO<sub>2</sub> users (chemical plants)</h3>
					Chemical plants are <span style="background: rgba(0,168,189,0.6); border-radius: 4px;">blue</span>
					and
					polyol plants <span style="background: rgba(12,168,118,0.6); border-radius: 4px;">green</span>.
					Those are potential sites for the Carbon4PUR technology. CO and CO<sub>2</sub> have to be available
					nearby, and the size of the circle corresponds to the radius (defined by the user) in which transporting
					those gases might be economical.
					<h2>Usage</h2>
					You can add filters to narrow down the emissions:<ul class="is-bullet">
						<li>to those compatible with the Carbon4PUR process or by emission type and source <a
								onclick="map.sidebar.open('emitter-content')">(<svg class="svgicon-small">
									<use xlink:href="#icon-emitter"></use>
								</svg> tab on the left)</a>,</li>
						<li>and to those near an existing chemical parc, polyol plant or steel mill <a
								onclick="map.sidebar.open('consumer-content')">(<svg class="svgicon-small">
									<use xlink:href="#icon-consumer"></use>
								</svg> tab)</a>. This tab also allows for analysis of available CO/CO<sub>2</sub>, ethylene oxide and propylene oxide as well as some analytics.</li>
						<li>The <a onclick="map.sidebar.open('legal-content')"><svg class="svgicon-small">
							<use xlink:href="#icon-paragraph"></use>
							</svg> tab</a> contains information about data, licences and privacy and</li>
						<li>in the <a onclick="map.sidebar.open('settings-content')"><svg class="svgicon-small">
							<use xlink:href="#icon-settings"></use>
							</svg> settings tab</a> contains advanced options like map layout and a possibility to load and save your own consumers.</li>
					</ul>
				</div>
				<h2>Funding</h2>
				<div>
					<img src="img/eu.png" style="float: left; vertical-align: middle; padding: 8px 8px 5px 0px;">This
					project has
					received funding from the European Unionâ€™s Horizon 2020 research and innovation programme under
					grant agreement No 768919
				</div>
			</div>
			<div class="sidebar-pane" id="settings-content">
				<h1 class="sidebar-header">
					Settings
					<span class="sidebar-close"><svg class="svgicon" viewbox="0 0 32 32">
							<use xlink:href="#icon-play3"></use>
						</svg></span>
				</h1>
				<h2>Map layout</h2>
				<div class="filterGroup">
					<div class="buttons has-addons">
						<a class="button is-info is-small" id="map-layout-green">Blue-Green</a>
						<a class="button is-small" id="map-layout-light">Light Grey</a>
					</div>
				</div>
				<div class="is-size-7">&#9432; If you want to link to the map with light style, use this url: <a
						href="https://carbon4pur.github.io/mapping/?style=light">https://carbon4pur.github.io/mapping/?style=light</a>
				</div>
				<h2>Emissions</h2>
				<div class="filterGroup">
					<div class="buttons">
						<button class="button is-small" id="renew-emissions">Get emissions from E-PRTR</button>
					</div>
				</div>
				<h2>Consumers</h2>
				<div class="filterGroup">
					<div class="buttons">
						<button class="button is-info is-small" id="map-show-consumers">Show consumers</button>
					</div>
				</div>
				<div class="filterGroup">
					<div class="buttons">
						<button class="button is-small" id="modify-consumers">Load your own consumers</button>
						<button class="button is-small is-warning" id="reset-consumers">Reset consumers</button>
					</div>
				</div>
				<h2>Introduction tour</h2>
				<a class="button is-small" id="show-intro">Show intro again</a>
			</div>
		</div>
	</div>

	<!-- Modal for input/output of chemical data -->
	<div class="modal" id="modal-modify-consumers" style="z-index: 9000">
		<div class="modal-background"></div>
		<div class="modal-card">
			<header class="modal-card-head">
				<p class="modal-card-title">Load your own data</p>
				<button class="delete close-modal" aria-label="close"></button>
			</header>
			<section class="modal-card-body">
				<!-- Content ... -->
				<p>You can edit the data in csv format directly here, or you can download it as csv and edit it for
					example in Excel. You can then copy it in here again.</p>
				<p>If you want to share your own data, click on "create link" below and copy the displayed link.</p>
				<h2>Chemical parks <span class="is-size-7">(<a href="chemicalparks v2.csv">Download</a>)</span></h2>
				<textarea class="textarea" rows="7" id="csv-chemical-parks"></textarea>
				<h2>Polyol plants <span class="is-size-7">(<a href="polyol plants europe v2.csv">Download</a>)</span>
				</h2>
				<textarea class="textarea" rows="7" id="csv-polyol-plants"></textarea>
			</section>
			<footer class="modal-card-foot">
				<button class="button is-link" id="modify-consumers-create-link">Create link</button>				
				<button class="button is-link" id="modify-consumers-create-json">Create JSON</button>
				<button class="button is-success" id="modify-consumers-load-data">Load this data</button>
				<button class="button close-modal">Cancel</button>
			</footer>
		</div>
	</div>

	<script src="vendor/leaflet.js" defer></script>
	<script src="vendor/d3.min.js" defer></script>
	<script src="vendor/bulma-slider.min.js" defer></script>
	<script src="vendor/leaflet-sidebar2.min.js" defer></script>
	<script src="vendor/intro.min.js" defer></script>

	<script src="main_mvp.js"></script>
</body>

</html>